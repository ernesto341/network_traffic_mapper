
    ofstream log;
    log.open(LOGFILENAME, ios::trunc);
    if (log.bad())
    {
        cerr << "Unable to open file " << LOGFILENAME << " for logging\n";
        exit (-2);
    }

    streambuf *buf = cerr.rdbuf();   // keep the cerr buffer to restore it
    cerr.rdbuf( log.rdbuf() );      // redirect cerr 
